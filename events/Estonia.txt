add_namespace = estonia

#Monarchy
country_event = {
	id = estonia.1
	title = estonia.1.t
	desc = estonia.1.d
	picture = GFX_report_event_ready_the_tenth_crusade

	trigger = {
		tag = EST
		has_government = monarchist
	}

	fire_only_once = yes
	
	option = {
		name = estonia.1.a
		
		promote_character = EST_thomas_von_ungern_sternberg

		set_party_name = {
			ideology = monarchist
			long_name = EST_monarchist_party_ungern_sternberg_long
			name = EST_monarchist_party_ungern_sternberg
		}

		ai_chance = {
			factor = 50
		}
	}
	
	option = {
		name = estonia.1.b
		add_political_power = 100
		
		ai_chance = {
			factor = 50
			modifier = {
				add = 150
				is_historical_focus_on = no
			}
		}
	}

	option = {
		name = estonia.1.c
		trigger = {
			NOT = {
				has_country_flag = EST_swedish_crown
			}
		}

		add_stability = 0.1
		
		SWE = {
			country_event = {
				id = estonia.2
				days = 1
			}
		}
		
		ai_chance = {
			factor = 50
		}
	}
}

country_event = {
	id = estonia.2
	title = estonia.2.t
	desc = estonia.2.d
	picture = GFX_report_event_estonian_flag

	is_triggered_only = yes

	option = {
		name = estonia.2.a

		custom_effect_tooltip = SWE_estonia_royal_alliance

		EST = {
			country_event = {
				id = estonia.3
				days = 1
			}
		}
		
		ai_chance = {
			factor = 25
			modifier = {
				add = 1000
				
				EST = {
					is_ai = no
				}
			}
		}
	}
	option = {
		name = estonia.2.b

		add_war_support = 0.01
		add_political_power = 1

		EST = {
			country_event = {
				id = estonia.4
				days = 1
			}
		}

		ai_chance = {
			factor = 75
		}
	}
}

country_event = {
	id = estonia.3
	title = estonia.3.t
	desc = estonia.3.d
	picture = GFX_report_event_carl_philip

	is_triggered_only = yes

	option = {
		name = estonia.3.a

		custom_effect_tooltip = SWE_estonia_royal_alliance
		
		add_stability = 0.1
		promote_character = EST_carl_philip_of_sweden
		set_party_name = {
			ideology = monarchist
			long_name = EST_monarchist_party_bernadotte_long
			name = EST_monarchist_party_bernadotte
		}
		hidden_effect = {
			give_guarantee = SWE
			SWE = {
				give_guarantee = EST
			}
		}
	}
}

country_event = {
	id = estonia.4
	title = estonia.4.t
	desc = estonia.4.d
	picture = GFX_report_event_carl_philip

	is_triggered_only = yes

	option = {
		name = estonia.4.a

		set_country_flag = EST_swedish_crown
		add_stability = -0.05

		add_opinion_modifier = {
			target = SWE
			modifier = outraged	
		}
		SWE = {
			add_opinion_modifier = {
				target = EST
				modifier = outraged	
			}
		}
		country_event = {
			id = estonia.1
		}
	}
}
