NV_nukes_cat = {

	Start_nuclear_program = {

		icon = generic_operation
		
		available = {
            num_of_available_civilian_factories > 9
		}
        visible = {
            NOT = {
                has_country_flag = NV_nuclear_program
            }
        }
		
		cost = 50
		days_remove = 365

        modifier = {
            civilian_factory_use = 10
        }
		
		remove_effect = {
			set_country_flag = NV_nuclear_program
            hidden_effect = {NVX_nuclear_production_calc = yes}
		}

		ai_will_do = {
			factor = 0
		}
	}
    running_nuclear_program = {

		priority = 99
		
		icon = GFX_decision_generic_fundraising

		available = {
			hidden_trigger = { always = no }
		}

		days_mission_timeout = 365
		is_good = yes
		fire_only_once = no

		cancel_trigger = {
            OR = {
                NOT = { check_variable = {NV_nuclear_production > 0}}
                has_country_flag = NV_stopped_nuclear_program
            }
		}
		
		activation = {
            check_variable = {
                NV_nuclear_production > 0
            }
            NOT = {has_country_flag = NV_stopped_nuclear_program}
		}

		visible = {
			check_variable = {
                NV_nuclear_production > 0
            }
		}

        complete_effect = {
            hidden_effect = {NVX_nuclear_production_calc = yes}
            add_offsite_building = { type = industrial_complex level = -3 }
        }


		timeout_effect = {
			ROOT = { add_to_variable = { NVX_nuke_stockpile = NV_nuclear_production tooltip = nuclear_production_tt } }
            hidden_effect = {
                add_offsite_building = { type = industrial_complex level = 3 }
            }
		}
        cancel_effect = {
            hidden_effect = {
                add_offsite_building = { type = industrial_complex level = 3 }
            }
        }

		ai_will_do = {
			factor = 200
		}
	}

    halt_nuclear_program = {

		icon = generic_operation
        visible = {
            has_country_flag = NV_nuclear_program
            NOT = {has_country_flag = NV_stopped_nuclear_program}
        }
		
		cost = 10
        fire_only_once = no
		
		complete_effect = {
            set_country_flag = NV_stopped_nuclear_program
            custom_effect_tooltip = NV_stopped_nuclear_program_tt
		}

		ai_will_do = {
			factor = 0
		}
	}
    restart_nuclear_program = {

		icon = generic_operation
        visible = {
            has_country_flag = NV_nuclear_program
            has_country_flag = NV_stopped_nuclear_program
        }
		
		cost = 50
        fire_only_once = no
		days_remove = 40

        available = {
            num_of_available_civilian_factories > 1
		}

        modifier = {
            civilian_factory_use = 2
		}
		
		remove_effect = {
            clr_country_flag = NV_stopped_nuclear_program
            custom_effect_tooltip = NV_restarted_nuclear_program_tt
            hidden_effect = {NVX_nuclear_production_calc = yes}
		}

		ai_will_do = {
			factor = 0
		}
	}
    move_nukes_to_active_inventory = {

		icon = generic_operation
		
		available = {
            check_variable = {
                NVX_nuke_stockpile > 0
            }
            OR = {
                is_ai = no
                AND = {
                    is_ai = yes
                    OR = {
                        threat > 0.6
                        surrender_progress > 0.1
                    }
                }
            }
		}
        visible = {
            has_country_flag = NV_nuclear_program
        }
		
		cost = 40
		days_remove = 20
        fire_only_once = no

		remove_effect = {
            add_nuclear_bombs = NVX_nuke_stockpile
		}

		ai_will_do = {
			factor = 10000
		}
	}
    
}